`timescale 1ns / 1ps

/////////////////////////////////////////////// WAR10CK \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
//                                                                                                          \\
//                                            , ,###*.                                                      \\
//                                       /&@@@@@@@@@@@@@@@@@@&                                              \\
//                                     @@@@%@@@@@@@@@*@@@@@@@@@@@                                           \\
//                                      @@@@(@@@@@@@@&@@@@@@@@@@&*/                                         \\
//                                        @@@@@@@@@@@@@@@@&@@@@*@(@@@                                       \\
//                                          (@@&@@@@,@@@%,@@@@(@&@@@@@,                                     \\
//                                            (@##&@%/@@(@@@@(@@@@@@@@@@                                    \\
//                                             ##@@@@@@@&(%@*@@@@@@@@*@@@@                                  \\
//                                              @@@@@@@@@@@@@(/@@@@&@@@@@@@                                 \\
//                                              @@@@@@@@@@@@@@@@%/(@@@@/@@@@@                               \\
//                                             @(&@@@@@@@@&(@@@@@@/#@(@@@@@@@@                              \\
//                                            @@@@@@@@@@@@@@@@@%@@@@@@@@@&&@@@&                             \\
//                                          @@@@@@@@@@@@@@@@@@@@@*@@@#,@@@@@@# &                            \\
//                                        @@@@@@@@@@@@@@@@@@@@@@@@@@@@/#@@@@@@@@                            \\
//                                       @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&@@@*@@@@/                           \\
//                                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&/@@@@@@@@                           \\
//                                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                           \\
//                                      (@//@*@@@@@@@@@@@@@@@@@@@@@@@#@@@#@@@@@@@                           \\
//                                     ,@@@@@@/#@@@@@@@@@@@@@@@@@@@@@%@@@@@@@@@@(                           \\
//                                     (@@#@@@@@%*@@@@@@@@@@@@@@@@@@@@@@#,,***//@                           \\
//                                     , @@@#/@@@@##@@@@@@@@@@@@@@@@@@@/&@@@@@@@&                           \\
//                                    ( &@@@@(/@@@@@(@@@@@@@//@@@@@@# ,@@@@@@@@@/                           \\
//                                   .&@@@(%@@@@@@@@@@@@@@(%@@@*@@@@  @@@@@@@@@.                            \\
//                                   @/@@@@@@@@@@@@@@@@@@%/@@@@@@@@@  @@@@@@@@                              \\
//                                   @@@@@@@@@@@@@@@@@@@@@#%@@@@(@%@, *%@@@@@                               \\
//                                  @&@@@@@@@@@@@@@@@@&@@    .&(@@@#@.@@@@@@                                \\
//                                  @%@@@@@@@@@@@@@%@@             &@/,@@@@,                                \\
//                                 &&@@@@@@@@@@@@&@                   @@@&@                                 \\
//                                 @%@@@@@@@@@&&                      &@@@@                                 \\
//                                *%@@@@@@@@#                          @@@@                                 \\
//                                @/@@@@@/                             #@@@                                 \\
//                                 @@*%                                 @@@                                 \\
//                                 @                                     @@*                                \\
//                                                                        @@                                \\
//                                                                         @@                               \\
//                                                                          &                               \\
//                                                                                                          \\
//                                                                                            ,--.          \\
//                    .---.   ,---,       ,-.----.       ,---,    ,----..     ,----..     ,--/  /|          \\
//                   /. ./|  '  .' \      \    /  \   ,`--.' |   /   /   \   /   /   \ ,---,': / '          \\
//               .--'.  ' ; /  ;    '.    ;   :    \ /    /  :  /   .     : |   :     ::   : '/ /           \\
//              /__./ \ : |:  :       \   |   | .\ ::    |.' ' .   /   ;.  \.   |  ;. /|   '   ,            \\
//          .--'.  '   \' .:  |   /\   \  .   : |: |`----':  |.   ;   /  ` ;.   ; /--` '   |  /             \\
//         /___/ \ |    ' '|  :  ' ;.   : |   |  \ :   '   ' ;;   |  ; \ ; |;   | ;    |   ;  ;             \\
//         \   \  \;      :|  |  ;/  \   \|   : .  /   |   | ||   :  | ; | '|   : |    :   '   \            \\
//          \   ;  `      |'  :  | \  \ ,';   | |  \   '   : ;.   |  ' ' ' :.   | '___ |   |    '           \\
//           .   \    .\  ;|  |  '  '--'  |   | ;\  \  |   | ''   ;  \; /  |'   ; : .'|'   : |.  \          \\
//            \   \   ' \ ||  :  :        :   ' | \.'  '   : | \   \  ',  / '   | '/  :|   | '_\.'          \\
//             :   '  |--" |  | ,'        :   : :-'    ;   |.'  ;   :    /  |   :    / '   : |              \\
//              \   \ ;    `--''          |   |.'      '---'     \   \ .'    \   \ .'  ;   |,'              \\
//               '---"                    `---'                   `---`       `---`    '---'                \\
//                                                                                                          \\
//              Create Date      : 07.07.2019                                                               \\
//              Module Name      : Randomizer                                                               \\
//              Target Devices   : Target Agnostic                                                          \\
//              Author           : WAR10CK                                                                  \\
//              Description      : This core generates random 4 Bit values which are powers of 2            \\
//                                                                                                          \\
//                                                                                                          \\
//                                                                                                          \\
//              Update Date      : 07.07.2019                                                               \\
//              Status           : Development                                                              \\
//              Notes            :                                                                          \\
//                                                                                                          \\
//                                                                                                          \\
//                                                                                                          \\
/////////////////////////////////////////////// WAR10CK \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

module Randomizer
(
  IN_CLOCK,
  IN_RESET_N,
  IN_START,
  OUT_RESULT
);

input                           IN_CLOCK                                                                            ; // Clock
input                           IN_RESET_N                                                                          ; // Active Low Reset
input                           IN_START                                                                            ; // Active Low Reset
output          [3:0]           OUT_RESULT                                                                          ; // Result

// Registers & Wires
reg             [17:0]          counter_r                                                                           ;
reg             [17:0]          seed_r                                                                              ;
reg             [17:0]          current_r                                                                           ;

// Randomizer Logic
always @ (posedge IN_CLOCK) begin
  if (!IN_RESET_N) begin
    counter_r                                       <= 18'b100110101011010111                                       ;
    seed_r                                          <= 18'b000000000000000000                                       ;
    current_r                                       <= 18'b000000000000000000                                       ;
  end
  else begin
    if (IN_START == 1'b1) begin
      counter_r                                     <= {counter_r[15:0], counter_r[17:16] ^ counter_r[10:9]}        ;
      seed_r                                        <= counter_r                                                    ;
      current_r                                     <= seed_r                                                       ;
    end
    else begin
      counter_r                                     <= {counter_r[15:0], counter_r[17:16] ^ counter_r[10:9]}        ;
      seed_r                                        <= counter_r                                                    ;
      current_r                                     <= {current_r[15:0], current_r[17:16] ^ current_r[10:9]}        ;
    end
  end
end

assign OUT_RESULT                                   = 4'b1 << current_r[1:0]                                        ;

endmodule
